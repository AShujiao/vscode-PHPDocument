{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://phpdocument/./src/HandleUrl.ts","webpack://phpdocument/./src/language.ts","webpack://phpdocument/./src/phpDetailPanel.ts","webpack://phpdocument/./src/vsHelp.ts","webpack://phpdocument/external commonjs \"vscode\"","webpack://phpdocument/external node-commonjs \"https\"","webpack://phpdocument/external node-commonjs \"path\"","webpack://phpdocument/external node-commonjs \"url\"","webpack://phpdocument/webpack/bootstrap","webpack://phpdocument/./src/extension.ts"],"sourcesContent":["import languageConf from './language';\r\nimport { ObjectIndex } from \"./ObjectIndex\";\r\n\r\n//php流程控制关键字 - control-structures\r\nconst structuresArr:ObjectIndex = {\r\n\t\"if\"      : \"if\",\r\n\t\"else\"    : \"else\",\r\n\t\"elseif\"  : \"elseif\",\r\n\t\"while\"   : \"while\",\r\n\t\"do\"      : \"do.while\",\r\n\t\"for\"     : \"for\",\r\n\t\"foreach\" : \"foreach\",\r\n\t\"break\"   : \"break\",\r\n\t\"continue\": \"continue\",\r\n\t\"switch\"  : \"switch\",\r\n\t\"declare\" : \"declare\",\r\n};\r\n\r\n//oop关键字 - language.oop5\r\nconst oopArr:ObjectIndex = {\r\n\t\"class\"      : \"basic\",\r\n\t\"$this\"      : \"basic\",\r\n\t\"new\"        : \"basic\",\r\n\t\"const\"      : \"constants\",\r\n\t\"--construct\": \"decon\",\r\n\t\"public\"     : \"visibility\",\r\n\t\"protected\"  : \"visibility\",\r\n\t\"private\"    : \"visibility\",\r\n\t\"extends\"    : \"inheritance\",\r\n\t\"::\"         : \"paamayim-nekudotayim\",\r\n\t\"static\"     : \"static\",\r\n\t\"abstract\"   : \"abstract\",\r\n\t\"interfaces\" : \"interfaces\",\r\n\t\"trait\"      : \"trait\",\r\n\t\"anonymous\"  : \"anonymous\",\r\n\t\"--set\"      : \"overloading\",\r\n\t\"--get\"      : \"overloading\",\r\n\t\"--isset\"    : \"overloading\",\r\n\t\"--unset\"    : \"overloading\",\r\n\t\"final\"      : \"final\",\r\n\t\"--clone\"    : \"cloning\",\r\n};\r\n\r\n//命名空间相关 - language.namespaces\r\nconst namespaceArr:ObjectIndex = {\r\n\t\"use\"      : \"importing\",\r\n\t\"namespace\": \"rationale\",\r\n}\r\n\r\n//function相关 - functions\r\nconst functionsArr:ObjectIndex = {\r\n\t\"function\" : \"user-defined\"\r\n}\r\n\r\n//变量类型 - language.types\r\nconst typeArr:ObjectIndex = {\r\n\t\"true\"  : \"boolean\",\r\n\t\"false\" : \"boolean\",\r\n\t\"int\"   : \"integer\",\r\n\t\"null\"  : \"null\",\r\n\t\"object\": \"object\",\r\n\t\"float\" : \"float\",\r\n\t\"double\": \"float\",\r\n\t\"real\"  : \"float\",\r\n};\r\n\r\n//全局变量关键字 - reserved.variables\r\nconst globalsArr:ObjectIndex = {\r\n\t\"$GLOBALS\"             : \"globals\",\r\n\t\"$-SERVER\"             : \"server\",\r\n\t\"$-GET\"                : \"get\",\r\n\t\"$-POST\"               : \"post\",\r\n\t\"$-FILES\"              : \"files\",\r\n\t\"$-REQUEST\"            : \"request\",\r\n\t\"$-SESSION\"            : \"session\",\r\n\t\"$-ENV\"                : \"environment\",\r\n\t\"$-COOKIE\"             : \"cookies\",\r\n\t\"$php_errormsg\"        : \"phperrormsg\",\r\n\t\"$HTTP-RAW-POST-DATA\"  : \"httprawpostdata\",\r\n\t\"$http-response-header\": \"httpresponseheader\",\r\n\t\"$argc\"                : \"argc\",\r\n\t\"$argv\"                : \"argv\",\r\n};\r\n\r\nexport default (lan:string,func:string):string => {\r\n\t//获取文档语言类型\r\n\tlet config_language:string = languageConf(lan);\r\n\t//关键字类型\r\n\tlet func_type:string = \"function\";//默认为函数\r\n\t//检查是否为php流程控制关键字\r\n\tlet isStructrues:boolean = structuresArr[func] ? true:false;\r\n\t//判断关键字类型\r\n\tif(isStructrues){\r\n\t\treturn getUrl(config_language,structuresArr[func],\"control-structures\");\r\n\t}\r\n\r\n\t//检查是否为functions关键字\r\n\tlet isFunctions:boolean = functionsArr[func] ? true:false;\r\n\tif(isFunctions){\r\n\t\treturn getUrl(config_language,functionsArr[func],\"functions\");\r\n\t}\r\n\r\n\t//检查是否为oop关键字\r\n\tlet isOOP:boolean = oopArr[func] ? true:false;\r\n\tif(isOOP){\r\n\t\treturn getUrl(config_language,oopArr[func],\"language.oop5\");\r\n\t}\r\n\r\n\t//检查是否为全局变量关键字\r\n\tlet isGlobals = globalsArr[func] ? true:false;\r\n\tif(isGlobals){\r\n\t\treturn getUrl(config_language,globalsArr[func],\"reserved.variables\");\r\n\t}\r\n\r\n\t//检查是否为命名空间关键字\r\n\tlet isNamespace:boolean = namespaceArr[func] ? true:false;\r\n\tif(isNamespace){\r\n\t\treturn getUrl(config_language,namespaceArr[func],\"language.namespaces\");\r\n\t}\r\n\r\n\t//检查是否为变量类型关键字\r\n\tlet isTypes = typeArr[func] ? true:false;\r\n\tif(isTypes){\r\n\t\treturn getUrl(config_language,typeArr[func],\"language.types\");\r\n\t}\r\n\r\n\treturn getUrl(config_language,func,func_type);\r\n\t\r\n}\r\n\r\n//获取php文档url\r\nfunction getUrl(language:string,func:string,func_type:string):string{\r\n\r\n\treturn `https://php.net/manual/${language}/${func_type}.${func}.php`;\r\n\r\n}","import { ObjectIndex } from \"./ObjectIndex\";\r\n\r\nlet Language:ObjectIndex = {\r\n\t\"English\"  : \"en\",\r\n\t\"Brazilian\": \"pt_BR\",\r\n\t\"Chinese\"  : \"zh\",\r\n\t\"French\"   : \"fr\",\r\n\t\"German\"   : \"de\",\r\n\t\"Japanese\" : \"ja\",\r\n\t\"Romanian\" : \"ro\",\r\n\t\"Russian\"  : \"ru\",\r\n\t\"Spanish\"  : \"es\",\r\n\t\"Turkish\"  : \"tr\"\r\n};\r\n\r\n//返回语言类型\r\nexport default (value:any)=>{\r\n\treturn Language[value];\r\n}","import * as vscode from 'vscode';\r\nimport * as path   from 'path';\r\nimport * as http   from 'https';\r\nimport * as URL    from 'url';\r\nimport handleUrl   from './HandleUrl';\r\nexport class phpDetailPanel{\r\n\r\n\tpublic static currentPanel: phpDetailPanel | undefined;\r\n\r\n\tpublic static readonly viewType = 'PHPDocument';\r\n\r\n\tprivate readonly _panel: vscode.WebviewPanel;\r\n    private  _url: string;\r\n    private  _fun: string;\r\n    private _disposables: vscode.Disposable[] = [];\r\n\r\n\tpublic static createOrShow(fun: string){\r\n        //当前窗口栏\r\n        const column = vscode.window.activeTextEditor ? vscode.window.activeTextEditor.viewColumn : undefined;\r\n        // 当前用户配置\r\n        let config:vscode.WorkspaceConfiguration = vscode.workspace.getConfiguration(\"PHPDocument\");\r\n        //关键字特殊字符替换\r\n        let funUrl:string = fun.replace(/_/g,'-');\r\n        //获取url\r\n        let url:string = handleUrl(config.language,funUrl);\r\n        //如果已存在活动窗口则更新\r\n\t\tif(phpDetailPanel.currentPanel){\r\n\t\t\tphpDetailPanel.currentPanel._panel.reveal(column);\r\n\t\t\tphpDetailPanel.currentPanel._update(url,fun);\r\n\t\t\treturn;\r\n        }\r\n        //创建一个活动窗口\r\n\t\tconst panel = vscode.window.createWebviewPanel(phpDetailPanel.viewType,\"PHPDocument\",column || vscode.ViewColumn.One,{\r\n            enableScripts: false,\r\n            retainContextWhenHidden:true,\r\n            enableCommandUris:false\r\n\t\t});\r\n\r\n\t\tphpDetailPanel.currentPanel = new phpDetailPanel(panel,url,fun);\r\n\t}\r\n\r\n/**\r\n *Creates an instance of PHPDetailPanel.\r\n * @param {vscode.WebviewPanel} panel 视图\r\n * @param {string} url 文档链接\r\n * @param {string} fun php方法名\r\n * @memberof PHPDetailPanel\r\n */\r\nprivate constructor(panel: vscode.WebviewPanel,url:string,fun:string){\r\n\t\tthis._panel = panel;\r\n        this._url = url;\r\n        this._fun = fun;\r\n\t\t// 初始化文档内容\r\n        this._update();\r\n\r\n        // 监听关闭面板事件\r\n        this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\r\n        // 设置面板图标\r\n        this._panel.iconPath = {\r\n            light:vscode.Uri.file(path.join(__filename,  '..', '..', 'resources', 'light', 'PHP.svg')) ,\r\n            dark: vscode.Uri.file(path.join(__filename,  '..', '..', 'resources', 'dark',  'PHP.svg'))\r\n        };\r\n        // 更新内容事件，暂时用不到\r\n        // this._panel.onDidChangeViewState(e => {\r\n        //     if (this._panel.visible) {\r\n        //         this._update()\r\n        //     }\r\n        // }, null, this._disposables);\r\n\r\n        // 处理面板中的消息，暂时用不到\r\n        /*this._panel.webview.onDidReceiveMessage(message => {\r\n            switch (message.command) {\r\n                case 'alert':\r\n                    vscode.window.showErrorMessage(message.text);\r\n                    return;\r\n            }\r\n        }, null, this._disposables);*/\r\n    }\r\n    \r\n    //关闭面板，释放资源\r\n\tpublic dispose() {\r\n        phpDetailPanel.currentPanel = undefined;\r\n        // Clean up our resources\r\n        this._panel.dispose();\r\n\r\n        while (this._disposables.length) {\r\n            const x = this._disposables.pop();\r\n            if (x) {\r\n                x.dispose();\r\n            }\r\n        }\r\n\t}\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} [url] 访问的url\r\n     * @param {string} [fun] php关键字\r\n     * @returns\r\n     * @memberof PHPDetailPanel\r\n     */\r\n    private _update(url?:string,fun?:string) {\r\n\r\n        if(url) this._url = url;\r\n        if(fun) this._fun = fun;\r\n        //设置面板标题\r\n        this._panel.title = \"php - \" + this._fun;\r\n        //获取html\r\n        return this.getHtml();\r\n    }\r\n    \r\n    //异步获取hmtl更新到面板\r\n    async getHtml() {\r\n        //获取html\r\n        let re = this._getHtmlForWebview(this._url);\r\n\r\n        let html: string = await re.then((data) => {\r\n            return (data as Buffer).toString();\r\n        });\r\n        //添加样式处理\r\n        let css = \"<style>.navbar,.navbar-fixed-top,.layout-menu,#breadcrumbs-inner,.page-tools,.footer-content,.headsup{display:none;}a{pointer-events: none;}#toTop{pointer-events:auto;} </style></head>\";\r\n        html = html.replace(/<\\/head>/, css);\r\n        //修改请求地址\r\n        html = html.replace(/\\/cached.php/g, 'https://php.net/cached.php');\r\n        //更新html\r\n        this._panel.webview.html = html;\r\n    }\r\n    \r\n    //请求数据\r\n    private _getHtmlForWebview( url: string ) {\r\n        let urlData = URL.parse(url);\r\n        let option = {\r\n            'hostname': 'www.php.net',\r\n            'path'    : urlData.path,\r\n            headers: {\r\n                'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',\r\n                'Accept-Encoding': 'utf-8',  //这里设置返回的编码方式 设置其他的会是乱码\r\n                'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8',\r\n                'cache-control'  : 'max-age=0',\r\n                'user-agent': 'ozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.75 Safari/537.36',\r\n                'Cookie': 'LAST_LANG=zh; COUNTRY=NA%2C60.174.83.97; LAST_NEWS=1553501040',\r\n\r\n            }\r\n        };\r\n        let pm = new Promise( function ( resolve, reject ) {\r\n            http.get(option, function ( res ) {\r\n                var html = '';\r\n                res.on( 'data', function ( d ) {\r\n                    html += d.toString()\r\n                } );\r\n                res.on( 'end', function () {\r\n                    resolve( html );\r\n                } );\r\n            } ).on( 'error', function ( e ) {\r\n                reject( e )\r\n            } );\r\n        } );\r\n        return pm;\r\n    }\r\n}","import * as vscode from 'vscode';\r\n\r\nconst vsHelp = {\r\n\r\n    showInfoWxChat(content: any): Thenable<void> {\r\n        return vscode.window.showInformationMessage(content, { title: \"OK\" }).then(function (item) {\r\n                if (!item) { \r\n                    return; \r\n                }\r\n                let tmpUri : string = '//resources//wx.jpg'\r\n                let extPath = vscode.extensions.getExtension(\"manasxx.phpdocument\")\r\n                if(extPath == undefined){\r\n                    return;\r\n                }\r\n                let extPathStr = extPath.extensionPath\r\n                let tmpPath = \"file:///\"+extPathStr+tmpUri\r\n                let tmpurl = vscode.Uri.parse(tmpPath)\r\n                \r\n                vscode.commands.executeCommand('vscode.openFolder', tmpurl);\r\n            });\r\n    }\r\n}\r\n\r\nexport default vsHelp;","module.exports = require(\"vscode\");","module.exports = require(\"https\");","module.exports = require(\"path\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","'use strict';\r\n// The module 'vscode' contains the VS Code extensibility API\r\n// Import the module and reference it with the alias vscode in your code below\r\nimport * as vscode from 'vscode';\r\nimport { phpDetailPanel} from './phpDetailPanel';\r\nimport vsHelp from './vsHelp';\r\n\r\n// this method is called when your extension is activated\r\n// your extension is activated the very first time the command is executed\r\nexport function activate(context: vscode.ExtensionContext) {\r\n    // 首次打开-提示语\r\n\tlet openVersion:string|undefined           = context.globalState.get('ext_version');\r\n\tlet ex:vscode.Extension<any>|undefined = vscode.extensions.getExtension('manasxx.phpdocument');\r\n\tlet version:string           = ex ? ex.packageJSON['version'] : '';\r\n\tlet title:string = ex ?  ex.packageJSON['one_title'] : '';\r\n\tif(openVersion != version && title != \"\"){\r\n\t\tcontext.globalState.update('ext_version',version);\r\n        vsHelp.showInfoWxChat('🐶🐷🐔🦊加入开发者微信群聊🐯🐮🐹🐽❓');\r\n\t}\r\n\r\n    //绑定输入php关键字查询命令\r\n    let disposable = vscode.commands.registerCommand('PHPDocument.Readline', () => {\r\n\r\n        let option:vscode.InputBoxOptions = new boxOption('example：array');\r\n        vscode.window.showInputBox(option).then(value=>{\r\n            //未输入值返回false\r\n            if(!value){\r\n                vscode.window.showWarningMessage('Please enter the PHP keyword!');\r\n                return;\r\n            }\r\n            //创建面板展示\r\n            phpDetailPanel.createOrShow(value);\r\n        })\r\n    });\r\n    //右键查找php方法命令\r\n    let phpDocument = vscode.commands.registerCommand('PHPDocument.gotoDocument', () => {\r\n        // 获取文本\r\n        let editor = vscode.window.activeTextEditor;\r\n        if (!editor) {//未获取到\r\n            vscode.window.showWarningMessage('No active text editor found!');\r\n            return;\r\n        }\r\n        \r\n        let keyword: string = '';\r\n        if (editor.selection.isEmpty) {\r\n            //未选中关键词，获取指针位置的关键词\r\n            let wordRange: any = editor.document.getWordRangeAtPosition(editor.selection.start);\r\n            keyword = wordRange ? editor.document.getText(wordRange) : '';\r\n        } else {\r\n            //获取选中的关键词\r\n            keyword = editor.document.getText(editor.selection.with());\r\n        }\r\n        if(!keyword){\r\n            //关键词为空\r\n            vscode.window.showWarningMessage('The name of the function was not obtained!');\r\n            return;\r\n        }\r\n        //创建面板\r\n        phpDetailPanel.createOrShow(keyword);\r\n    });\r\n\r\n    //绑定命令\r\n    context.subscriptions.push(disposable);\r\n    context.subscriptions.push(phpDocument);\r\n}\r\n\r\n\r\n//定义一个输入栏\r\nexport class boxOption  implements vscode.InputBoxOptions {\r\n\r\n    ignoreFocusOut?: boolean;\r\n\r\n    password?: boolean;\r\n\r\n    placeHolder?: string;\r\n\r\n    prompt?: string;\r\n\r\n    value?: string;\r\n\r\n    valueSelection?: [number, number];\r\n\r\n    constructor(prompt:string){\r\n        this.ignoreFocusOut = true;\r\n        this.password = false;\r\n        this.placeHolder = \"Please enter the PHP keyword.\";\r\n        this.prompt = prompt;\r\n        this.value = \"\";\r\n    }\r\n\r\n}\r\n\r\n// this method is called when your extension is deactivated\r\nexport function deactivate() {\r\n}\r\n"],"names":["structuresArr","oopArr","namespaceArr","functionsArr","typeArr","globalsArr","getUrl","language","func","func_type","lan","config_language","Language","value","phpDetailPanel","createOrShow","fun","column","vscode","window","activeTextEditor","viewColumn","undefined","config","workspace","getConfiguration","funUrl","replace","url","currentPanel","_panel","reveal","_update","panel","createWebviewPanel","viewType","ViewColumn","One","enableScripts","retainContextWhenHidden","enableCommandUris","_disposables","this","_url","_fun","onDidDispose","dispose","iconPath","light","Uri","file","path","join","__filename","dark","length","x","pop","title","getHtml","re","_getHtmlForWebview","html","then","data","toString","webview","option","URL","parse","headers","Promise","resolve","reject","http","get","res","on","d","e","vsHelp","showInfoWxChat","content","showInformationMessage","item","extPath","extensions","getExtension","tmpPath","extensionPath","tmpurl","commands","executeCommand","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","context","openVersion","globalState","ex","version","packageJSON","update","disposable","registerCommand","boxOption","showInputBox","showWarningMessage","phpDocument","editor","keyword","selection","isEmpty","wordRange","document","getWordRangeAtPosition","start","getText","with","subscriptions","push","constructor","prompt","ignoreFocusOut","password","placeHolder"],"sourceRoot":""}